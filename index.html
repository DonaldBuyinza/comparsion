<!DOCTYPE html>
<html>
<body>

<video id='vid' autoplay></video>

<select id="cameraSelect" onchange="startCamera()">
  <option value="none" selected>None</option>
  <option value="user">Front Camera</option>
  <option value="environment">Back Camera</option>
</select>

<script>
function startCamera() {
  const selectedCamera = document.getElementById('cameraSelect').value;
  
  if (selectedCamera === 'none') {
    // Stop any existing stream if it exists
    if (window.stream) {
      window.stream.getTracks().forEach(track => {
        track.stop();
      });
    }
    document.getElementById('vid').srcObject = null;
    return;
  }
  
  navigator.mediaDevices.getUserMedia({
    video: {
      facingMode: selectedCamera,
      width: 1280,
      height: 720
    }
  })
  .then(stream => {
    // Stop any existing stream if it exists
    if (window.stream) {
      window.stream.getTracks().forEach(track => {
        track.stop();
      });
    }
    window.stream = stream;
    document.getElementById('vid').srcObject = stream;
  })
  .catch(error => {
    console.error('Error accessing the camera:', error);
  });
}

</script>

</body>
</html>


